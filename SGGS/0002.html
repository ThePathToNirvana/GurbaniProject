<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
</head>
<body>

<button onclick="angBack()">&#8656; Previous Ang</button>

<input type="number" id="AngNo" min="1" max="1430">

<button id="AngBtn" onclick="angSearch()">Go to Ang</button>

<button onclick="angForw()">Next Ang &#8658;</button>
<p id="demo1"></p>


Display Options:
<br/>
<input id="myLarivaar" onclick="larivaarAssist()" type="checkbox"> Larivaar assistance
<br/>
<input type="checkbox" id="dark_light" onclick="toggleDarkLight()"> Nightmode
<br/>
<input type="checkbox" id="readingMode1" onclick="readingMode()"> Reading mode
<br/>
<button type="button" id="verse1" onclick="myIncreaseFn1()">+</button>
Verse font size
<button type="button" id="verse1" onclick="myDecreaseFn1()">-</button>
<input type="number" id="verseSizeNo">
<button id="verseSizeBtn" onclick="verseSizeSearch()">Submit</button>

Current size: <a id="verseSize"></a>px
<br/>
<button type="button" id="verse1" onclick="myIncreaseFn2()">+</button>
Translation font size
<button type="button" id="verse1" onclick="myDecreaseFn2()">-</button>
<input type="number" id="translSizeNo">
<button id="translSizeBtn" onclick="translSizeSearch()">Submit</button>

Current size: <a id="translSize"></a>px

<br />
<br /> 
Display available translations when the checkboxes are checked:
<br />  
<input id="myEng" onclick="larivaarAssist()" type="checkbox" /> English
<br />
<input id="myPun" onclick="larivaarAssist()" type="checkbox" /> Punjabi
<br /> 

<br /> 
<br /> 
<br /> 

<div style="width:100%;word-break: break-all;"><p id="demo"></p></div>

<script>

arrayOfVerses = [
  "ੴ ਸਤਿ ਨਾਮੁ ਕਰਤਾ ਪੁਰਖੁ ਨਿਰਭਉ ਨਿਰਵੈਰੁ ਅਕਾਲ ਮੂਰਤਿ ਅਜੂਨੀ ਸੈਭੰ ਗੁਰ ਪ੍ਰਸਾਦਿ ॥", 
  "॥ ਜਪੁ ॥",
  "ਆਦਿ ਸਚੁ ਜੁਗਾਦਿ ਸਚੁ ॥",
  "ਹੈ ਭੀ ਸਚੁ ਨਾਨਕ ਹੋਸੀ ਭੀ ਸਚੁ ॥੧॥",
  "ਸੋਚੈ ਸੋਚਿ ਨ ਹੋਵਈ ਜੇ ਸੋਚੀ ਲਖ ਵਾਰ ॥",
  "ਚੁਪੈ ਚੁਪ ਨ ਹੋਵਈ ਜੇ ਲਾਇ ਰਹਾ ਲਿਵ ਤਾਰ ॥",
  "ਭੁਖਿਆ ਭੁਖ ਨ ਉਤਰੀ ਜੇ ਬੰਨਾ ਪੁਰੀਆ ਭਾਰ ॥",
  "ਸਹਸ ਸਿਆਣਪਾ ਲਖ ਹੋਹਿ ਤ ਇਕ ਨ ਚਲੈ ਨਾਲਿ ॥",
  "ਕਿਵ ਸਚਿਆਰਾ ਹੋਈਐ ਕਿਵ ਕੂੜੈ ਤੁਟੈ ਪਾਲਿ ॥",
  "ਹੁਕਮਿ ਰਜਾਈ ਚਲਣਾ ਨਾਨਕ ਲਿਖਿਆ ਨਾਲਿ ॥੧॥",
  "ਹੁਕਮੀ ਹੋਵਨਿ ਆਕਾਰ ਹੁਕਮੁ ਨ ਕਹਿਆ ਜਾਈ ॥",
  "ਹੁਕਮੀ ਹੋਵਨਿ ਜੀਅ ਹੁਕਮਿ ਮਿਲੈ ਵਡਿਆਈ ॥",
  "ਹੁਕਮੀ ਉਤਮੁ ਨੀਚੁ ਹੁਕਮਿ ਲਿਖਿ ਦੁਖ ਸੁਖ ਪਾਈਅਹਿ ॥",
  "ਇਕਨਾ ਹੁਕਮੀ ਬਖਸੀਸ ਇਕਿ ਹੁਕਮੀ ਸਦਾ ਭਵਾਈਅਹਿ ॥",
  "ਹੁਕਮੈ ਅੰਦਰਿ ਸਭੁ ਕੋ ਬਾਹਰਿ ਹੁਕਮ ਨ ਕੋਇ ॥",
  "ਨਾਨਕ ਹੁਕਮੈ ਜੇ ਬੁਝੈ ਤ ਹਉਮੈ ਕਹੈ ਨ ਕੋਇ ॥੨॥",
  "ਗਾਵੈ ਕੋ ਤਾਣੁ ਹੋਵੈ ਕਿਸੈ ਤਾਣੁ ॥",
  "ਗਾਵੈ ਕੋ ਦਾਤਿ ਜਾਣੈ ਨੀਸਾਣੁ ॥",
  "ਗਾਵੈ ਕੋ ਗੁਣ ਵਡਿਆਈਆ ਚਾਰ ॥",
  "ਗਾਵੈ ਕੋ ਵਿਦਿਆ ਵਿਖਮੁ ਵੀਚਾਰੁ ॥",
  "ਗਾਵੈ ਕੋ ਸਾਜਿ ਕਰੇ ਤਨੁ ਖੇਹ ॥",
  "ਗਾਵੈ ਕੋ ਜੀਅ ਲੈ ਫਿਰਿ ਦੇਹ ॥",
  "ਗਾਵੈ ਕੋ ਜਾਪੈ ਦਿਸੈ ਦੂਰਿ ॥"]

Eng = ["Eng1", "Eng2", "Eng3", "Eng4", "Eng5", "Eng6", "Eng7", "Eng8","Eng9", "Eng10", "Eng11", "Eng12", "Eng13", "Eng14", "Eng15", "Eng16","Eng17", "Eng18", "Eng19", "Eng20", "Eng21", "Eng22", "Eng23"]

Pun = ["Pun1", "Pun21", "Pun33", "Pun4", "Pun1", "Pun21", "Pun33", "Pun4","Pun1", "Pun21", "Pun33", "Pun4","Pun1", "Pun21", "Pun33", "Pun4","Pun1", "Pun21", "Pun33", "Pun4","Pun33", "Pun4", "Pun23"]

Larivaar1 = []
final2 = []

loadCB("myLarivaar")
loadCB("dark_light")
loadCB("myEng")
loadCB("myPun")
loadCB("readingMode1")

if (typeof(Storage) !== "undefined") {
  fontSize1 = parseInt(localStorage.getItem("fontSize11"));
  if (isNaN(fontSize1) == true) {
    var fontSize1 = 16;
  } 
}

if (typeof(Storage) !== "undefined") {
  fontSize2 = parseInt(localStorage.getItem("fontSize12"));
  if (isNaN(fontSize2) == true) {
    var fontSize2 = 16;
  } 
}


toggleDarkLight()
larivaarAssist()
document.getElementById("demo").innerHTML = final2.join("</br>");
document.getElementById("verseSize").innerHTML = fontSize1;
document.getElementById("translSize").innerHTML = fontSize2;



function angSearch() {
  var x = document.getElementById("AngNo").value;
  if (x <= 1430 && x >= 1) {
    var str = "" + x
    var pad = "0000"
    var ans = pad.substring(0, pad.length - str.length) + str
    var site1 = window.location.href;
    var newSite = site1.substring(0, site1.length-9) + ans + ".html"
    window.open(newSite, "_self");
  } else {
    document.getElementById("demo1").innerHTML = "type a number between 1 and 1430";
  }
}

function angBack() {
  var str = window.location.href;
  var res = parseInt(str.charAt(str.length-9) + str.charAt(str.length-8) + str.charAt(str.length-7) + str.charAt(str.length-6));
  var str1 = "" + (res - 1);
  var pad = "0000"
  var ans = pad.substring(0, pad.length - str1.length) + str1
  var newSite = str.substring(0, str.length-9) + ans + ".html"
  window.open(newSite, "_self");

}

function angForw() {
  var str = window.location.href;
  var res = parseInt(str.charAt(str.length-9) + str.charAt(str.length-8) + str.charAt(str.length-7) + str.charAt(str.length-6));
  var str1 = "" + (res + 1);
  var pad = "0000"
  var ans = pad.substring(0, pad.length - str1.length) + str1
  var newSite = str.substring(0, str.length-9) + ans + ".html"
  window.open(newSite, "_self");
}

var input = document.getElementById("AngNo");
input.addEventListener("keyup", function(event) {
  if (event.keyCode === 13) {
   event.preventDefault();
   document.getElementById("AngBtn").click();
  }
});

var input = document.getElementById("verseSizeNo");
input.addEventListener("keyup", function(event) {
  if (event.keyCode === 13) {
   event.preventDefault();
   document.getElementById("verseSizeBtn").click();
  }
});

var input = document.getElementById("translSizeNo");
input.addEventListener("keyup", function(event) {
  if (event.keyCode === 13) {
   event.preventDefault();
   document.getElementById("translSizeBtn").click();
  }
});

function larivaarAssist() {
  saveCB("myLarivaar")
  saveCB("myEng")
  saveCB("myPun")
  var checkLarivaar = document.getElementById("myLarivaar");
  if (document.getElementById("readingMode1").checked == false) {
    if (checkLarivaar.checked == true){
      LarivaarAssistColour()
    } else {
      LarivaarAssistColourless()
    }
    checkLanguage();
    document.getElementById("demo").innerHTML = final2.join("</br>");
  } else {
    readingMode()
  }
}

function readingMode() {
  saveCB("readingMode1")
  if (document.getElementById("readingMode1").checked == true) {
    var checkLarivaar = document.getElementById("myLarivaar");
    if (checkLarivaar.checked == true){
      LarivaarAssistColour()
    } else {
      LarivaarAssistColourless()
  }
  checkLanguage() 
  document.getElementById("demo").innerHTML = final2.join("");
  } else {
  larivaarAssist()
  }
}


function checkLanguage() {
  final2 = [];
  var checkEng = document.getElementById("myEng");
  var checkPun = document.getElementById("myPun");
  if (document.getElementById("readingMode1").checked == false) { 
    for (i = 0; i < arrayOfVerses.length; i++) {
      final2[i] = "<a style=\"font-size:" + fontSize1 + "px\">" + Larivaar1[i] + "</a></br>";
    }
    if (checkEng.checked == true){
      for (i = 0; i < arrayOfVerses.length; i++) {
        final2[i] +=  "<a style=\"font-size:"+ fontSize2 + "px\">" + Eng[i] + "</a></br>";
      }
    }
    if (checkPun.checked == true){
      for (i = 0; i < arrayOfVerses.length; i++) {
        final2[i] +=  "<a style=\"font-size:"+ fontSize2 + "px\">" + Pun[i] + "</a></br>";
      }
    }
  } else {
    final2[0] =[""]
    for (i = 0; i < arrayOfVerses.length; i++) {
      final2[0] += "<a style=\"font-size:" + fontSize1 + "px\">" + Larivaar1[i] + "</a>";
    }
    final2[0] += "</br></br>";
    if (checkEng.checked == true){
      final2[1] =[""]
      for (i = 0; i < arrayOfVerses.length; i++) {
        final2[1] += "<a style=\"font-size:"+ fontSize2 + "px\">" + Eng[i] + "</a>"
      }
      final2[1] += "</br></br>";
    }
    if (checkPun.checked == true){
      final2[2] =[""]
      for (i = 0; i < arrayOfVerses.length; i++) {
        final2[2] += "<a style=\"font-size:"+ fontSize2 + "px\">" + Pun[i] + "</a>"
      }
      final2[2] += "</br></br>";
    }
  }
}

function LarivaarAssistColour() {
  Larivaar1 = [""];
  for (i = 0; i < arrayOfVerses.length; i++) {
    res = [""];
    res = arrayOfVerses[i].split(" ");
    var ress = "";
    for (j = 0; j < res.length; j++) {
      if (res[j].includes("॥")== true || j%2==0 ){
        ress += res[j];
      } else {
        ress += "<font color=\"orange\">" + res[j] + "</font>"
      }
    }
    Larivaar1[i] = ress;
  }
}

function LarivaarAssistColourless() {
  Larivaar1 = [""]
  for (i = 0; i < arrayOfVerses.length; i++) {
    Larivaar1[i] = arrayOfVerses[i].replace(/\s+/g, '');
  }
}

function toggleDarkLight() {
  saveCB("dark_light")
  var checkBC = document.getElementById("dark_light");
  if (checkBC.checked == true){
    document.body.style.backgroundColor = "#111";
    document.body.style.color = "#eee";
  } else {
    document.body.style.backgroundColor = "#eee";
    document.body.style.color = "#111";
  }
}

function myIncreaseFn1() {
  fontSize1 += 1;
  localStorage.setItem("fontSize11", fontSize1);
  larivaarAssist()
  document.getElementById("verseSize").innerHTML = fontSize1;
}
function myDecreaseFn1() {
  fontSize1 += -1;
  localStorage.setItem("fontSize11", fontSize1);
  larivaarAssist()
  document.getElementById("verseSize").innerHTML = fontSize1;
}
function myIncreaseFn2() {
  fontSize2 += 1;
  localStorage.setItem("fontSize12", fontSize2);
  larivaarAssist()
  document.getElementById("translSize").innerHTML = fontSize2;
}
function myDecreaseFn2() {
  fontSize2 += -1;
  localStorage.setItem("fontSize12", fontSize2);
  larivaarAssist()
  document.getElementById("translSize").innerHTML = fontSize2;
}


function verseSizeSearch() {
  fontSize1 = parseInt(document.getElementById("verseSizeNo").value);
  localStorage.setItem("fontSize11", fontSize1);
  larivaarAssist()
  document.getElementById("verseSize").innerHTML = fontSize1;
}
function translSizeSearch() {
  fontSize2 = parseInt(document.getElementById("translSizeNo").value);
  localStorage.setItem("fontSize12", fontSize2);
  larivaarAssist()
  document.getElementById("translSize").innerHTML = fontSize2;
}

function saveCB(xval){
    var checkbox = document.getElementById(xval);
    localStorage.setItem(xval, checkbox.checked);
}

function loadCB(xval){    
    var checked = JSON.parse(localStorage.getItem(xval));
    document.getElementById(xval).checked = checked;
}

</script>

</body>
</html>


</script>  
</body>
</html> 